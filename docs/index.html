<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <link rel="apple-touch-icon" sizes="57x57" href="icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="icons/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <script type="text/javascript">

    </script>

    <style type="text/css">
        body {
            background: #FAFAE5;
            font-family: sans-serif;

        }

        #auth {
            padding: 10px;
            border-radius: 3px;
            border: none;
            font-size: 15px;
            background: #8BC34A;
            color: #fff;
            cursor: pointer;
            transition: all 340ms;
            box-shadow: 1px 1px 1px hsla(0, 0%, 53%, 0.07);
        }
        #auth:hover {
            box-shadow: 2px 3px 5px hsl(0, 0%, 53%);
        }

        #opening {
            position: absolute;
            top: 50%;
            height: 20px;
            margin-top: -10px;
            left: 50%;
            width: 200px;
            margin-left: -100px;
        }


        .about {
            text-align: center;
        }

        #status {
            font-family: monospace;
            background: white;
            padding: 10px;
        }
        h1 a:visited {
            color: inherit;
        }
        h1 a {
            text-decoration: none;
        }
        .hide-devtools .root-view {
            display: none;
            visibility: hidden;
            overflow: hidden;
        }

        .about ul { text-align: left; }
        .about ul code { font-size: 80%; }
    </style>
    <title>DevTools Timeline Viewer</title>
</head>
<body>

    <div class="tutorial">
        <div class="tutorial__part">

        </div>
        <div>

        </div>
    </div>
    <div class="about">
        <h1><a href="https://chromedevtools.github.io/timeline-viewer/">DevTools Timeline Viewer</a></h1>
        <p>
            Open Chrome DevTools Timeline traces in 2 clicks. <small><a href="https://github.com/ChromeDevTools/timeline-viewer">Github repo</a></small>
        </p>

        <div>
        <button id="auth" hidden>Authorize Drive API access</button>
        </div>
        <p id="status">
            Checking for Drive API authorization...
        </p>
        <div id="howto" hidden style="text-align: center; margin-top: 105px; max-width: 750px; margin: 0 auto;">
            <p>Once the application is authorized, it registers as a Google Drive viewer for <code>.json</code> files. Then, when opening a json file, you can select the Timeline Viewer. It will open in a new tab and load the timeline asset from your Drive.
            <img src="https://cloud.githubusercontent.com/assets/39191/18080010/67390d9a-6e48-11e6-98a3-9c8c81b1df67.png" style="width: 100%; margin: 20px 0;">

            <p>You can share this URL with any users who 1) have Google Drive access to the asset and 2) have authorized Timeline Viewer to Drive with Google OAuth.

           <img src="https://cloud.githubusercontent.com/assets/39191/18080845/fb39f056-6e4b-11e6-90df-6cda94bd2495.png" style="width: 100%; margin: 20px 0;">

            <p>Visit your <a href="https://security.google.com/settings/security/permissions?pli=1">Google security permissions</a> if you'd like to revoke authorization.
            <hr>
            <p>This app can also load any trace that's available over CORS. That includes:
                <ul>
                    <li><a href="?loadTimelineFromURL=https://www.dropbox.com/s/4izypjuxylfwfy7/pureformulas.json?dl=0">Dropbox: <code>https://www.dropbox.com/s/4izypjuxylfwfy7/pureformulas.json?dl=0</code></a>
                    <li><a href="?loadTimelineFromURL=https://gist.github.com/paulirish/f83d30384954937dc3a1fae970a4ae52/raw/b25b27741c652d3091a316dfd8b58bf72f14aa74/twitch.json">Gists (raw): <code>https://gist.github.com/paulirish/f83d3038…970a4ae52/raw/b25b2…2f14aa74/twitch.json</code></a>
                    <li>Any other trace file that's available with CORS headers.
                </ul>

        </div>
    </div>
    <script src="config.js"></script>
    <script src="index.js"></script>
    <script src="Runtime.js"></script>
    <script>
        window.viewer = new Viewer();

        // hooks for the apis.google client.js
        self.checkAuth = function() {
          return viewer.checkAuth(...arguments);
        }
        self.authBtn = viewer.authBtn;

        // We are monkeypatching window.loadResourcePromise, which is from devtools' Runtime.js
        _loadResourcePromise = self.loadResourcePromise;
        self.loadResourcePromise = viewer.loadResourcePromise.bind(viewer);
    </script>
    <script async src="https://apis.google.com/js/client.js?onload=checkAuth"></script>


</head>
<body class="undocked" id="-blink-dev-tools"></body>
</html>

</body>
</html>